module TestCast = {
  import Builtin;
  import Prelude;

  foreign import unsafe_cast :: a -> b;

  foreign import new_vector :: Int64# -> Ptr# Char# -> Ptr# (Ptr# Char#);

  foreign import read_vector :: Int64# -> Ptr# (Ptr# Char#) -> Ptr# Char#;

  printInt32 :: Int32 -> ();
  printInt32 = { Int32# x -> print_int32 x };

  main = {
    printInt32 (unsafe_cast (read_vector 2L# (new_vector 10L# (unsafe_cast 5))))
  };
}

-- Expected: 5