((twice
    $With.return_xxx
    (cut
       (lambda
          ($With.param_xxx $With.return_xxx)
          (join
             $With.select_xxx
             (select
                (#With.k_xxx
                   (join
                      $With.then_xxx
                      (then
                         $With.outer_xxx
                         (join
                            $With.return_xxx
                            (then
                               $With.inner_xxx
                               (join
                                  $With.apply_xxx
                                  (apply ($With.inner_xxx) ($With.return_xxx))
                                  (cut $With.outer_xxx $With.apply_xxx)))
                            (join
                               $With.apply_xxx
                               (apply
                                  ((construct tuple () ()))
                                  ($With.return_xxx))
                               (cut #With.k_xxx $With.apply_xxx))))
                      (cut
                         (lambda
                            ($With.tmp_xxx $With.return_xxx)
                            (join
                               $With.apply_xxx
                               (apply
                                  ((construct tuple () ()))
                                  ($With.return_xxx))
                               (cut #With.k_xxx $With.apply_xxx)))
                         $With.then_xxx))))
             (cut $With.param_xxx $With.select_xxx)))
       $With.return_xxx))
   (printAndReturn
      $With.return_xxx
      (cut
         (lambda
            ($With.param_xxx $With.return_xxx)
            (cut
               (lambda
                  ($With.param_xxx $With.return_xxx)
                  (join
                     $With.select_xxx
                     (select
                        ((tuple (#With.str_xxx #With.k_xxx))
                           (join
                              $With.then_xxx
                              (then
                                 $With.outer_xxx
                                 (join
                                    $With.return_xxx
                                    (then
                                       $With.inner_xxx
                                       (join
                                          $With.apply_xxx
                                          (apply
                                             ($With.inner_xxx)
                                             ($With.return_xxx))
                                          (cut $With.outer_xxx $With.apply_xxx)))
                                    (join
                                       $With.apply_xxx
                                       (apply (#With.str_xxx) ($With.return_xxx))
                                       (invoke printString $With.apply_xxx))))
                              (cut
                                 (lambda
                                    ($With.tmp_xxx $With.return_xxx)
                                    (join
                                       $With.apply_xxx
                                       (apply (#With.str_xxx) ($With.return_xxx))
                                       (cut #With.k_xxx $With.apply_xxx)))
                                 $With.then_xxx))))
                     (cut
                        (construct tuple ($With.param_xxx $With.param_xxx) ())
                        $With.select_xxx)))
               $With.return_xxx))
         $With.return_xxx))
   (finally
      $With.return_xxx
      (cut
         (lambda
            ($With.param_xxx $With.return_xxx)
            (cut
               (lambda
                  ($With.param_xxx $With.return_xxx)
                  (join
                     $With.select_xxx
                     (select
                        ((tuple (#With.finalizer_xxx #With.k_xxx))
                           (join
                              $With.then_xxx
                              (then
                                 #With.x_xxx
                                 (join
                                    $With.apply_xxx
                                    (apply (#With.x_xxx) ($With.return_xxx))
                                    (cut #With.finalizer_xxx $With.apply_xxx)))
                              (join
                                 $With.apply_xxx
                                 (apply
                                    ((construct tuple () ()))
                                    ($With.then_xxx))
                                 (cut #With.k_xxx $With.apply_xxx)))))
                     (cut
                        (construct tuple ($With.param_xxx $With.param_xxx) ())
                        $With.select_xxx)))
               $With.return_xxx))
         $With.return_xxx))
   (main
      $With.return_xxx
      (cut
         (lambda
            ($With.param_xxx $With.return_xxx)
            (join
               $With.select_xxx
               (select
                  (#With.$__xxx
                     (join
                        $With.apply_xxx
                        (apply
                           ((lambda
                               ($With.param_xxx $With.return_xxx)
                               (join
                                  $With.select_xxx
                                  (select
                                     (#With.$__xxx
                                        (join
                                           $With.apply_xxx
                                           (apply
                                              ((lambda
                                                  ($With.param_xxx
                                                     $With.return_xxx)
                                                  (join
                                                     $With.select_xxx
                                                     (select
                                                        (#With.$__xxx
                                                           (join
                                                              $With.then_xxx
                                                              (then
                                                                 $With.outer_xxx
                                                                 (join
                                                                    $With.return_xxx
                                                                    (then
                                                                       $With.inner_xxx
                                                                       (join
                                                                          $With.apply_xxx
                                                                          (apply
                                                                             ((lambda
                                                                                 ($With.param_xxx
                                                                                    $With.return_xxx)
                                                                                 (join
                                                                                    $With.select_xxx
                                                                                    (select
                                                                                       (#With.x_xxx
                                                                                          (join
                                                                                             $With.apply_xxx
                                                                                             (apply
                                                                                                (#With.x_xxx)
                                                                                                ($With.return_xxx))
                                                                                             (invoke
                                                                                                printString
                                                                                                $With.apply_xxx))))
                                                                                    (cut
                                                                                       $With.param_xxx
                                                                                       $With.select_xxx))))
                                                                             ($With.return_xxx))
                                                                          (join
                                                                             $With.apply_xxx
                                                                             (apply
                                                                                ($With.inner_xxx)
                                                                                ($With.apply_xxx))
                                                                             (cut
                                                                                $With.outer_xxx
                                                                                $With.apply_xxx))))
                                                                    (join
                                                                       $With.apply_xxx
                                                                       (apply
                                                                          ("foo")
                                                                          ($With.return_xxx))
                                                                       (invoke
                                                                          String#
                                                                          $With.apply_xxx))))
                                                              (invoke
                                                                 printAndReturn
                                                                 $With.then_xxx))))
                                                     (cut
                                                        $With.param_xxx
                                                        $With.select_xxx))))
                                              ($With.return_xxx))
                                           (invoke twice $With.apply_xxx))))
                                  (cut $With.param_xxx $With.select_xxx))))
                           ($With.return_xxx))
                        (join
                           $With.apply_xxx
                           (apply
                              ((lambda
                                  ($With.param_xxx $With.return_xxx)
                                  (join
                                     $With.select_xxx
                                     (select
                                        ((tuple ())
                                           (join
                                              $With.then_xxx
                                              (then
                                                 $With.outer_xxx
                                                 (join
                                                    $With.return_xxx
                                                    (then
                                                       $With.inner_xxx
                                                       (join
                                                          $With.apply_xxx
                                                          (apply
                                                             ($With.inner_xxx)
                                                             ($With.return_xxx))
                                                          (cut
                                                             $With.outer_xxx
                                                             $With.apply_xxx)))
                                                    (join
                                                       $With.apply_xxx
                                                       (apply
                                                          ("end")
                                                          ($With.return_xxx))
                                                       (invoke
                                                          String#
                                                          $With.apply_xxx))))
                                              (invoke printString $With.then_xxx))))
                                     (cut $With.param_xxx $With.select_xxx))))
                              ($With.apply_xxx))
                           (invoke finally $With.apply_xxx)))))
               (cut $With.param_xxx $With.select_xxx)))
         $With.return_xxx))
   ("runtime/malgo/Builtin.mlg" "runtime/malgo/Prelude.mlg"))