module MutualRecursion = {
  data Int32 = Int32# Int32#

  -- Boxing functions

  foreign import malgo_sub_int32_t : Int32# -> Int32# -> Int32#
  def subInt32 : Int32 -> Int32# -> Int32
  def subInt32 = { (Int32# x) y -> Int32# (malgo_sub_int32_t x y) }

  foreign import malgo_print_string : String# -> ()

  def even = {
    | Int32# 0# -> malgo_print_string "True\n"#
    | n -> odd (subInt32 n 1#)
  }

  def odd = {
    | Int32# 0# -> malgo_print_string "False\n"#
    | n -> even (subInt32 n 1#)
  }

  def main = { even 10 }
}

-- Expected: True
