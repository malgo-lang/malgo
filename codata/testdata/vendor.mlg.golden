(type (call (var Option) (var a)) (call (var None)) (call (var Some) (var a)))
(type (call (var List) (var a)) (call (var Nil)) (call (var Cons) (var a) (call (var List) (var a))))
(def vendor (lambda (:p1) (object (field get (case ((var :p1)) (clause (var items) (seq (call (var None)))))) (field put (object (field get (case ((var :p1)) (clause (call (var Nil)) (seq (prim print (literal "Nil case")) (prim print (call (var Nil))) (call (var None)))) (clause (call (var Cons) (var x) (var xs)) (seq (prim print (literal "Cons case")) (prim print (call (var Cons) (var x) (var xs))) (call (var Some) (var x)))))) (field put (case ((var :p1)) (clause (var items) (seq (access (call (var vendor) (var items)) put))))))))))
(def main (lambda () (seq (prim print (access (access (call (var vendor) (call (var Cons) (literal 0) (call (var Nil)))) put) get)))))
