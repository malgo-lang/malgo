module TestNewTypeChecker = {
  foreign import print_string :: String# -> ();
  foreign import newline :: () -> ();

  data String = String# String#;

  putStr :: String -> ();
  putStr = { (String# str) ->
    print_string str
  };

  putStrLn = { (String# str) ->
    print_string str;
    newline ()
  };

  main = {
    putStr (String# "Hello, "#);
    putStrLn (String# "world"#)
  };
}
-- Expected: Hello, world
