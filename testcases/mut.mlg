-- このプログラムは安全でない
-- 型検査に失敗するべき
-- 参考: http://www.pllab.riec.tohoku.ac.jp/smlsharp/ja/?Foundations%2F020
main : Array String -> Answer;
main argv =
  let rec id x = x in
  let rec addOne x = x + 1 in
  newArray 1 id (\a ->
    writeArray a 0 addOne (\unit ->
      readArray a 0 exit));